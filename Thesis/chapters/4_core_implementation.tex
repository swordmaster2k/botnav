\chapter{Core Implementation}

%-------------------------------------------------------------------------------------------------------

\section{Building the Project}

\subsection{Obtaining the Source}
\noindent 
The latest version of the project's source code can be checked out via \textit{git} using: \\

\indent \textit{git clone https://github.com/swordmaster2k/botnav.git} \\

\noindent
Or downloaded as a ZIP file from \url{https://github.com/swordmaster2k/botnav}. \\ 

\noindent
Alternatively the most update to date version at the time of printing is available on the CD at the front of this thesis.

\subsection{Compiling the D* Lite Cython Module}
\noindent
The planning algorithm D* Lite must be compiled as a Cython module, the original source code was provided by Maxim Likhachev of CMU and Sven Koenig of USC in C. It has been modified to make it compatible with the core Python system using Cython, as Python is implemented in C \cite{â€¢} it is inherently compatible with the sample of D* Lite that is provided by its authors.

\noindent
To build D* Lite you will need Python3.4, the Python3.4 headers, gcc, and make. It \textbf{must} be built for each platform on which it will execute as C compiles to machine code making it \textit{target dependent}. From a terminal navigate to the source code directory \textit{BotNav/algorithm/dstarlite\_build/}. \\

\indent \textit{cd BotNav/algorithm/dstarlite\_build/} \\

\noindent
The make file contains two build rules:
\begin{enumerate}
\item \textit{make} - \indent which builds the module \textit{dstarlite\_c.so} 
\item \textit{make clean} - \indent cleans all previous output files from the build process
\end{enumerate}

\noindent
Once the module file \textit{dstarlite\_c.so} has been successfully built for the target platform it can simply be dropped into the parent directory \textit{BotNav/algorithm/}. The Python source code contains a reference to the module and will automatically link it in at execution time. 

\subsection{Running it in Python3}
Explain how you go about running the project once it is compiled, by default it will run a simulation example. Give the command line arguments for running it from a terminal.

%-------------------------------------------------------------------------------------------------------

\section{Running Simulations}
Talk about how simulations provide an easy means to test the system against predefined use cases, speeds up the testing process, and provides a means for reproducing results. Discuss these points here.

\subsection{Configuration}
Outline the changes that need to be made to the configuration file, basically the simulation flag will need to be set.

%-------------------------------------------------------------------------------------------------------

\section{Using a Real Bot}
Mention how using a real robot differs by:

\begin{itemize}
\item The need for communications.
\item Introducing drift wheel slippage etc.
\item By proving the practical application of the planner.
\end{itemize}

\subsection{Configuration}
Outline the changes that need to be made to the configuration file, highlight the fact that communications medium is required USB, Bluetooth, or Wifi. Explain the different variations.

%-------------------------------------------------------------------------------------------------------

\section{How the Planner Works}
Explain how the planner was implemented in code, the control logic, looping structure, reacting to change, and the conditions for terminating the planner.

\subsection{Five Simple Steps}
Every planner in robotics splits the problem into five simple steps, include them under this section as numbered items. State any recursive operations that take place. Also include a flowchart or diagram in some form.

\subsection{Abstracting Away from the Algorithm}
This section will cover the abstract model that the Algorithm class enforces, every planning algorithm has a common interface which allows them to be interchanged. Explain how this is achieved using abstraction and talk about the advantages.

%-------------------------------------------------------------------------------------------------------

\section{Open Field D*}
Core of the project very important, state that every implementation of Field D* to date is closed source NASA's code is not available, nor is Carnegie Mellon's. Open Field D* is significant because it bucks this trend making it open to ITB students and others.

\subsection{Modifying D* Lite}
Point out the key differences between D* Lite and Field D* from a coding perspective, nodes to cell corners how this is represented, linear interpolation. Using Georgia Institute of Technologies D* Lite code state the modifications required to get Field D*.

\subsection{Basic Implementation}
Cover basic implementation of Field D*, most importantly state any problems encountered, or variations/optimisations made during the coding stage.

%-------------------------------------------------------------------------------------------------------